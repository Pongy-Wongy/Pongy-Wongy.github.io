---
layout: single
title: "OrcaleSQL ë³µìŠµ2"
excerpt: "ê¸°ë³¸í‚¤, ì™¸ë˜í‚¤, alter ì´í•´í•˜ê¸°"
categories: OracleSQL
tag: OracleSQL
toc: true
---

ì˜¤ëŠ˜ì€ ì–´ì œ ìˆ˜ì—…í•œ tableì— ëŒ€í•´ì„œ ë³µìŠµí•œ í›„   
DML,ì§‘ê³„í•¨ìˆ˜,ì„œë¸Œì¿¼ë¦¬ì— ëŒ€í•´ì„œ ìˆ˜ì—…í–ˆë‹¤.  
ë°°ìš¸ê²Œ ì‚°ë”ë¯¸ë¼ ìŠ¤ë¬´ê³ ê°œ í•˜ëŠ” ëŠë‚Œì´ë‹¤.  
ê·¸ëŸ¼ table ë¶€í„° ë³µìŠµí•´ë³´ì.

```sql
--í•™ì‚¬ê´€ë¦¬ í”„ë¡œì íŠ¸
--student: í•™ìƒë²ˆí˜¸(stdnum), ì´ë¦„(stdname), ì„±ë³„(gender), ì£¼ì†Œ(address), ì „í™”ë²ˆí˜¸
--class: ê°•ì¢Œë²ˆí˜¸(classnum), í•™ìƒë²ˆí˜¸(stdnum), êµìˆ˜ë²ˆí˜¸(pronum), ê°•ì¢Œëª…(classname), ê°•ì˜ì‹¤(classaddress), ê°•ì¢Œì‹œê°„(classtime)
--professor: êµìˆ˜ë²ˆí˜¸(proid), ì´ë¦„(proname), ì„±ë³„(gender), ì£¼ì†Œ(address), ì „í™”ë²ˆí˜¸

create table student (
    stdnum number primary key,
    stdname varchar2(10),
    gender varchar2(5),
    address varchar2(20),
    phone varchar(20)
);

create table professor (
    pronum number primary key,
    proname varchar2(10),
    gender varchar2(5),
    address varchar2(20),
    phone varchar(220)
);


create table class (
    classnum number primary key,
    stdnum number references student(stdnum),
    pronum number references professor(pronum),
    classname varchar2(20),
    classaddress varchar2(20),
    classtime date
);
```

## ê¸°ë³¸í‚¤ ì´í•´í•˜ê¸°
ìœ„ì˜ ì£¼ì–´ì§„ ê°’ìœ¼ë¡œ ì´ 3ê°œì˜ tableì„ ë§Œë“¤ì—ˆë‹¤.(student,professor,class í…Œì´ë¸”)  
ì˜¤ëŠ˜ ìˆ˜ì—…í•˜ë©´ì„œ ê°€ì¥ í–‡ê°ˆë¦°ê±´ ì–´ë–¤ê±°ì— primary keyë¥¼ ì¤˜ì•¼ë˜ê³  foreign keyë¥¼ ì¤˜ì•¼ë˜ëŠ”ì§€  
í–‡ê°ˆë ¸ë”°.

ê·¸ëŸ¼ PRIMARY KEY(ê¸°ë³¸í‚¤) ë¶€í„° ë‹¤ì‹œ ê³µë¶€í•´ë³´ì.
ìœ„ì˜ ì½”ë“œì—ì„œ ë³´ë©´ í•™ìƒë²ˆí˜¸(stdnum),êµìˆ˜ë²ˆí˜¸(pronum),ë°˜ë²ˆí˜¸(classnum)ì— ê¸°ë³¸í‚¤ê°€ ì„¤ì •ë˜ìˆë‹¤.  

ë‚´ ìƒê°ì—ëŠ” ëª¨ë‘ ë²ˆí˜¸ì— ê¸°ë³¸í‚¤ë¥¼ ë¶€ì—¬í•œê±° ë³´ë‹ˆ ì•½ê°„ "ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸"ì¸ ê²ƒ ê°™ë‹¤
ë§Œì•½ ì´ë¦„ì´ ë˜‘ê°™ì€ "ì² ìˆ˜"ë¼ëŠ” ì•„ì´ê°€ 2ëª…ì´ ìˆëŠ”ë° ë§¤ìš°í–‡ê°ˆë¦¬ë¯€ë¡œ "ì² ìˆ˜ 1" "ì² ìˆ˜ 2" ì´ë ‡ê²Œ  
ì˜ êµ¬ë¶„ë˜ê²Œ í•˜ë“¯ì´ ìœ„ì˜ ë²ˆí˜¸ë‚˜ id ì— ë§ì´ ì„¤ì •í•˜ëŠ”ê²ƒ ê°™ë‹¤. ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸(idNumber)
ê°™ì€ ê±°ë¼ê³  ì´í•´í•´ì•¼ê² ë‹¤

-----------------------------------------------------------------

## ê¸°ë³¸í‚¤ ì„¤ì •ì‹œ ì£¼ì˜í•  ì 

```sql
create table student (
    stdnum number primary key,
    stdname varchar2(10),
    gender varchar2(5),
    address varchar2(20),
    phone varchar(20)
);
```
ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ stdnum number ì˜†ì— primary keyë¥¼ ë¶€ì—¬í•´ì£¼ë©´ ê°„ë‹¨í•˜ì§€ë§Œ
ì´ ë°©ë²•ì€ ì¶”ì²œí•˜ì§€ ì•ŠëŠ”ê²ƒ ê°™ë‹¤. ê·¸ ì´ìœ ëŠ” í”„ë¡œì íŠ¸ ì§„í–‰ì‹œ DBë¥¼ ê³„ì† ë³€ê²½í•  ì¼
ìƒê¸°ëŠ”ë° ê·¸ë˜ì„œ ê¸°ì¡´ ê¸°ë³¸í‚¤ë„ ë³€ê²½ëœë‹¤ëŠ” ì´ìœ ì—ì„œ ì¶”ì²œí•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ë‹¤.....

### ê¸°ë³¸í‚¤ ì œì•½ì¡°ê±´
ìœ„ì˜ í•´ê²°ë°©ì•ˆìœ¼ë¡œ ê¸°ë³¸í‚¤ì— ì œì•½ì¡°ê±´ì„ ë‹¬ì•„ì£¼ì.
ê¸°ë³¸í‚¤ë¥¼ ì·¨ì†Œí•  ë•Œ 
**Alter table í…Œì´ë¸”ëª… Drop constraint ì œì•½ì¡°ê±´ëª…** ì„ ì‚¬ìš©í•œë‹¤
ê·¸ëŸ°ë° ìœ„ì˜ ì½”ë“œëŠ” ì œì•½ì¡°ê±´ì´ ì—†ìœ¼ë‹ˆ ê¸°ë³¸í‚¤ ì‚­ì œê°€ ì–´ë µë‹¤

### ê¸°ë³¸í‚¤ ì œì•½ì¡°ê±´ ì½”ë“œ ì¶”ê°€(ìˆ˜ì •)
ì œì•½ì¡°ê±´ ì½”ë“œë¥¼ ë„£ì–´ì„œ ìˆ˜ì •í•´ë³´ê² ë‹¤
```sql
create table student (
    stdnum number primary key,
    stdname varchar2(10),
    gender varchar2(5),
    address varchar2(20),
    phone varchar(20)
    CONSTRAINT STUDENT_PK PRIMARY KEY(stdnum)
);
```
**CONSTRAINT STUDENT_PK PRIMARY KEY(stdnum)**
**STUDENT_PK**ë¼ëŠ” ì œì•½ì¡°ê±´ì„ ë¶€ì—¬í•˜ê³  stdnum ì»¬ëŸ¼ì„ **PRIMARY KEY( )**ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.ë¼ëŠ” ëœ»ì´ë‹¤.
ì´ëŸ¬ë©´ ë‚˜ì¤‘ì— ID ì»¬ëŸ¼ì˜ ê¸°ë³¸í‚¤ë¥¼ ì·¨ì†Œí•  ë•Œ
**Alter table STUDENT Drop constraint STUDENT_PK**
ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

------------------------------------------------------------------------

## ALTERë¡œ ê¸°ë³¸í‚¤ ì¶”ê°€í•˜ê¸°
```sql
create table student (
    stdnum number,
    stdname varchar2(10),
    gender varchar2(5),
    address varchar2(20),
    phone varchar(20)

    Alter table STUDENT ADD CONSTRAINT STUDENT_PK PRIMARY KEY(stdnum)
);
```
**Alter table STUDENT ADD CONSTRAINT STUDENT_PK PRIMARY KEY(stdnum)**
ALTERë¡œ ê¸°ë³¸í‚¤+ì œì•½ì¡°ê±´ì„ ì¶”ê°€í•˜ëŠ” ë¬¸ë²•ì€ ìœ„ì˜ ì½”ë“œì™€ ê°™ë‹¤.

-----------------------------------------------------------------------
## ALTER ë‹¤ë¥¸ ê¸°ëŠ¥ ì•Œì•„ë³´ê¸°

1. ALTER ëª…ë ¹ì–´ë€?
ALTERëŠ” DDL(Data Definition Language)ì— ì†í•˜ëŠ” ëª…ë ¹ì–´ë¡œ, í…Œì´ë¸”ì´ë‚˜ ì»¬ëŸ¼ì˜ ì´ë¦„ì„ ë°”ê¾¸ê±°ë‚˜  
ì œì•½ì¡°ê±´ì„ ë³€ê²½í•˜ê±°ë‚˜ / ì»¬ëŸ¼ì„ ì¶”ê°€ ë˜ëŠ” ì‚­ì œí•˜ëŠ” ë“±ì˜ ë‹¤ì–‘í•œ í…Œì´ë¸” ë³€ê²½ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
 
<table border="1" cellspacing="0" cellpadding="8" style="border-collapse: collapse; width: 100%; font-family: Arial, sans-serif;">
  <thead style="background-color: #f2f2f2;">
    <tr>
      <th>ê¸°ëŠ¥</th>
      <th>êµ¬ë¬¸ í˜•ì‹</th>
      <th>ì˜ˆì‹œ</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ğŸ”¹ ì»¬ëŸ¼ ì¶”ê°€</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… ADD (ì»¬ëŸ¼ëª… ìë£Œí˜•);</code></td>
      <td><code>ALTER TABLE emp ADD (email VARCHAR2(50));</code></td>
    </tr>
    <tr>
      <td>ğŸ”¹ ì»¬ëŸ¼ ìˆ˜ì •</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… MODIFY (ì»¬ëŸ¼ëª… ìƒˆìë£Œí˜•);</code></td>
      <td><code>ALTER TABLE emp MODIFY (ename VARCHAR2(100));</code></td>
    </tr>
    <tr>
      <td>ğŸ”¹ ì»¬ëŸ¼ ì‚­ì œ</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… DROP COLUMN ì»¬ëŸ¼ëª…;</code></td>
      <td><code>ALTER TABLE emp DROP COLUMN email;</code></td>
    </tr>
    <tr>
      <td>ğŸ”¹ ì»¬ëŸ¼ ì´ë¦„ ë³€ê²½</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… RENAME COLUMN ê¸°ì¡´ëª… TO ìƒˆì´ë¦„;</code></td>
      <td><code>ALTER TABLE emp RENAME COLUMN ename TO emp_name;</code></td>
    </tr>
    <tr>
      <td>ğŸ”¹ ì œì•½ì¡°ê±´ ì¶”ê°€</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… ADD CONSTRAINT ì œì•½ëª… ì œì•½ì¡°ê±´;</code></td>
      <td><code>ALTER TABLE emp ADD CONSTRAINT emp_pk PRIMARY KEY(empno);</code></td>
    </tr>
    <tr>
      <td>ğŸ”¹ ì œì•½ì¡°ê±´ ì‚­ì œ</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… DROP CONSTRAINT ì œì•½ëª…;</code></td>
      <td><code>ALTER TABLE emp DROP CONSTRAINT emp_pk;</code></td>
    </tr>
    <tr>
      <td>ğŸ”¹ í…Œì´ë¸” ì´ë¦„ ë³€ê²½</td>
      <td><code>ALTER TABLE í…Œì´ë¸”ëª… RENAME TO ìƒˆí…Œì´ë¸”ëª…;</code></td>
      <td><code>ALTER TABLE emp RENAME TO employee;</code></td>
    </tr>
  </tbody>
</table>




