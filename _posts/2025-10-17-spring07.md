---
layout: single
title: "POST요청 Input이 100만개면?"
excerpt: "많은양의 Input데이터 Map자료형으로 처리하기!"
categories: SpringBoot
tag: SpringBoot
toc: true
published: true
---

저번시간 복습을 한번해보자 
1. 폼양식을 만든다.
2. POST요청방식으로 데이터를 서버에 전송한다.
3. 전송한 데이터를 테이블에 저장하려면 **레퍼지토리.save()** 하자.
4. 이게 CRUD의 **CREATE**다 끝!

근데 저번시간같은경우에는 title,price 값 2개만 있었다.
그래서 아래 코드와 같이 parameter를 2개만 추가하면 됬었는데.......
```java
@PostMapping("/product")
    String addProduct(@RequestParam String title, @RequestParam Integer price) {
        Product product = new Product();
        product.setTitle(title);
        product.setPrice(price);
        productRepository.save(product);
        return "redirect:/list";
    }
```
근데 만약 input이 100만개면 parameter를 100만개를 써야하나?
사실상 불가능하다.
이럴때는 **Map**자료형을 사용하면 한번에 담을수 있다.


## Map자료형
```java
@PostMapping("/product")
    String addProduct(@RequestParam Map formData) {
        System.out.println(formData);
        return "redirect:/list";
    }

```
![Spring 이미지](/assets/images/spring07.png)
![Spring 이미지](/assets/images/spring071.png)

전송한 데이터가 **{}**형태의 **Map**자료형에 한번에 담겨서 들어오는걸 볼 수 있다.  


```java
 @PostMapping("/product")
    String addProduct(@RequestParam Map formData) {
        Map<String, Object> test = new HashMap<>();
        test.put("myName", "Park");
        test.put("address", "Seoul");
        System.out.println(test.get("myName"));
        System.out.println(test.get("address"));
        return "redirect:/list";
    }
```

### Map자료형 문법

1. Map<key타입,value타입> 변수 = new HashMap();
2. .put을 이용하면 map안에  데이터삽입가능
3. put("key","value")
4. .get(key)로 자료값 출력

한번 확인해보자 전송버튼을 누르면.....

![Spring 이미지](/assets/images/spring071.png)

value값인 "Park" "Seoul" 이 잘 출력 되는걸 볼 수있다.

## 결론
보낼 input데이터가 많으면 **Map**자료형사용함으로서 개별 parameter  
입력 할 필요가 없다!










